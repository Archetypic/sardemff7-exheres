# Copyright 2012-2014 Quentin "Sardem FF7" Glidic <sardemff7@exherbo.org>
# Distributed under the terms of the GNU General Public License v2

require github [ user=sardemff7 ] tuxfamily [ group=j4tools suffix=tar.xz ]

SUMMARY="Status line generator"
HOMEPAGE="http://j4status.j4tools.org/"

LICENCES="GPL-3"
SLOT="0"

MYOPTIONS="
    systemd
    ( plugins:
        i3bar           [[ description = [ i3bar JSON protocol support ] ]]
        mpd             [[ description = [ MPD support through libmpdclient ] ]]
        network-manager [[ description = [ Network status support through NetworkManager ] ]]
        pulseaudio      [[ description = [ Audio control through PulseAudio ] ]]
        sensors         [[ description = [ Sensors support through lm_sensorsâ€™ libsensors ] ]]
        systemd         [[ description = [ systemd unit file monitoring support ] ]]
        upower          [[ description = [ Battery support through UPower ] ]]
    )
"

DEPENDENCIES="
    build:
        virtual/pkg-config
    build+run:
        dev-libs/glib:2[>=2.40.0]
        systemd? ( sys-apps/systemd )
        plugins:i3bar? ( dev-libs/yajl )
        plugins:mpd? ( media-libs/libmpdclient )
        plugins:network-manager? ( net-apps/NetworkManager[>=0.9] )
        plugins:pulseaudio? ( media-sound/pulseaudio[>=0.9.16] )
        plugins:sensors? ( sys-apps/lm_sensors )
        plugins:systemd? ( sys-apps/systemd )
        plugins:upower? ( sys-apps/upower )
"

DEFAULT_SRC_CONFIGURE_OPTION_ENABLES=(
    systemd
    'plugins:i3bar i3bar-input-output'
    'plugins:mpd mpd-input'
    'plugins:network-manager nm-input'
    'plugins:pulseaudio pulseaudio-input'
    'plugins:sensors sensors-input'
    'plugins:systemd systemd-input'
    'plugins:upower upower-input'
)

